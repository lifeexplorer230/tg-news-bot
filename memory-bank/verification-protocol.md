# ‚úÖ VERIFICATION PROTOCOL

## –ü—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-10-11

---

## üìã –ß–ï–ö-–õ–ò–°–¢: –ü–ï–†–ï–î –ö–û–ú–ú–ò–¢–û–ú

### 1. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –∏–º–ø–æ—Ä—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Python
python -m py_compile <–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π_—Ñ–∞–π–ª.py>

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è
python -c "from <–º–æ–¥—É–ª—å> import <–∫–ª–∞—Å—Å>; print('‚úÖ –ò–º–ø–æ—Ä—Ç OK')"

# –î–ª—è –≤—Å–µ—Ö Python —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ
find . -name "*.py" -not -path "./.git/*" -not -path "./data/*" | xargs python -m py_compile
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ù–µ—Ç SyntaxError, –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### 2. Git diff –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
git diff --stat

# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
git diff <—Ñ–∞–π–ª>

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ
git status
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:**

- –ò–∑–º–µ–Ω–µ–Ω–æ ‚â§150 —Å—Ç—Ä–æ–∫ (safe zone)
- –ù–µ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ù–µ—Ç debug –∫–æ–¥–∞

---

### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

#### –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ database/db.py

```bash
python -c "
from database.db import Database
db = Database('./data/test_verify.db')

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥/–∏–∑–º–µ–Ω–µ–Ω–∏–µ
# (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è)

print('‚úÖ Database —Ä–∞–±–æ—Ç–∞–µ—Ç')
db.close()
"
```

#### –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ marketplace_processor.py

```bash
python -c "
from utils.config import load_config
from services.marketplace_processor import MarketplaceProcessor

config = load_config()
processor = MarketplaceProcessor(config)
print('‚úÖ MarketplaceProcessor –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω')
"
```

#### –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ gemini_client.py

```bash
python -c "
from services.gemini_client import GeminiClient

# –ë–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API –∫–ª—é—á–∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç
print('‚úÖ GeminiClient –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω')
"
```

#### –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ config.yaml

```bash
python -c "
from utils.config import load_config

config = load_config()
print('‚úÖ Config –∑–∞–≥—Ä—É–∂–µ–Ω')
marketplaces = config.get('marketplaces', [])
if isinstance(marketplaces, dict):
    marketplaces_count = len(marketplaces)
else:
    marketplaces_count = len(marketplaces or [])
print(f'–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤: {marketplaces_count}')
"
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ö–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### 4. –¢–µ—Å—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
pytest tests/ -v

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_database.py -v

# –° coverage
pytest tests/ --cov=database --cov=services
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

---

### 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø–∏—Å–∞—Ç—å –≤ –ª–æ–≥ —á—Ç–æ —Å–¥–µ–ª–∞–Ω–æ
echo "[$(date)] [<–ö–û–î_–ó–ê–î–ê–ß–ò>] <–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è>" >> logs/migration_$(date +%Y-%m-%d).log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å git diff –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑
git diff --stat

# –ó–∞–ø–∏—Å–∞—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞—Ä—Ç–∏–∏
git diff --stat | tail -1 >> logs/migration_$(date +%Y-%m-%d).log
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –õ–æ–≥ –æ–±–Ω–æ–≤–ª—ë–Ω

---

## üîÑ –ß–ï–ö-–õ–ò–°–¢: –ü–û–°–õ–ï –ö–û–ú–ú–ò–¢–ê

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–º–∏—Ç

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
git log -1 --stat

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ
git status
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ù–µ—Ç uncommitted –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ–º–º–∏—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

---

### 2. Push –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# Push –≤ –≤–µ—Ç–∫—É
git push origin <—Ç–µ–∫—É—â–∞—è_–≤–µ—Ç–∫–∞>

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ push –ø—Ä–æ—à—ë–ª
git log --oneline -5
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ö–æ–º–º–∏—Ç –∑–∞–ø—É—à–µ–Ω –≤ remote

---

### 3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É

```bash
# –û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É –∫–∞–∫ ‚úÖ –≤ DOROZHNAYA_KARTA.md
# (–í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Edit tool)
```

‚úÖ **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –æ–±–Ω–æ–≤–ª—ë–Ω –≤ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç–µ

---

## üö¶ –£–†–û–í–ù–ò –ü–†–û–í–ï–†–ö–ò

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (–¥–ª—è –º–µ–ª–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)

- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úÖ Git diff
- ‚úÖ –ò–º–ø–æ—Ä—Ç

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** config, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –º–µ–ª–∫–∏–µ —Ñ–∏–∫—Å—ã

---

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)

- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úÖ Git diff
- ‚úÖ –ò–º–ø–æ—Ä—Ç
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

---

### –ü–æ–ª–Ω–∞—è (–¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)

- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å
- ‚úÖ Git diff
- ‚úÖ –ò–º–ø–æ—Ä—Ç
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ –¢–µ—Å—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è:** database.py, main.py, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üéØ –ö–†–ò–¢–ï–†–ò–ò –ö–ê–ß–ï–°–¢–í–ê

### –ö–æ–¥

- [ ] –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- [ ] –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- [ ] –ù–µ—Ç debug print()
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
- [ ] Docstrings –æ–±–Ω–æ–≤–ª–µ–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### Git

- [ ] –ö–æ–º–º–∏—Ç –≤–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ: `[–ö–û–î] –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ`
- [ ] –ù–µ—Ç merge –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –ª–∏–Ω–µ–π–Ω–∞—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] DOROZHNAYA_KARTA.md –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –õ–æ–≥–∏ –∑–∞–ø–∏—Å–∞–Ω—ã –≤ logs/
- [ ] Memory bank –æ–±–Ω–æ–≤–ª—ë–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## üìä –®–ê–ë–õ–û–ù –û–¢–ß–Å–¢–ê –û –ü–†–û–í–ï–†–ö–ï

–ö–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø–æ–ª–Ω—è–π—Ç–µ:

```
### –ü—Ä–æ–≤–µ—Ä–∫–∞ [–ö–û–î_–ó–ê–î–ê–ß–ò] - YYYY-MM-DD HH:MM

**–§–∞–π–ª—ã:** <—Å–ø–∏—Å–æ–∫>
**–†–∞–∑–º–µ—Ä:** +XX -YY

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –°–∏–Ω—Ç–∞–∫—Å–∏—Å: ‚úÖ/‚ùå
- [ ] –ò–º–ø–æ—Ä—Ç: ‚úÖ/‚ùå
- [ ] –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: ‚úÖ/‚ùå
- [ ] –¢–µ—Å—Ç—ã: ‚úÖ/‚ùå/N/A
- [ ] Git diff: ‚úÖ/‚ùå
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ/‚ùå

**–ü—Ä–æ–±–ª–µ–º—ã:** <–µ—Å–ª–∏ –±—ã–ª–∏>
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í / ‚ùå –¢–†–ï–ë–£–ï–¢–°–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï
```

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-11
