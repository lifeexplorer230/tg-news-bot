# üöÄ Deployment Checklist ‚Äî Marketplace News Bot v2.1.0

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `main` —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º (`git pull`).
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `pre-commit run --all-files` –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `requirements*.txt` –≤ –ø—Ä–æ–¥-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–≤–µ–∂–µ–≥–æ –±—ç–∫–∞–ø–∞ –ë–î (`./scripts/backup_db.sh`).

## 2. –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å `git tag -a v2.1.0 -m "Release 2.1.0 ‚Äî DevOps hardening"`.
- [ ] –ó–∞–ø—É—à–∏—Ç—å —Ç–µ–≥: `git push origin v2.1.0`.
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ä–µ–ª–∏–∑–∞ –≤ —Ç—Ä–µ–∫–µ—Ä–µ/Notion.

## 3. –°–±–æ—Ä–∫–∞ –∏ –≤—ã–∫–ª–∞–¥–∫–∞
- [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑: `docker compose build --no-cache`.
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏/–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ): `python main.py processor --dry-run` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å listener: `docker compose up -d marketplace-listener`.
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Å—Ç–∞—Ç—É—Å–µ `healthy` (`docker compose ps`).

## 4. –ü–æ—Å—Ç-–¥–µ–ø–ª–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker compose logs -f marketplace-listener` (–Ω–µ—Ç –æ—à–∏–±–æ–∫).
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ heartbeat –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (`ls -l logs/listener.heartbeat`).
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å smoke-—Ç–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞: `docker compose run --rm marketplace-processor python main.py processor`.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã backup-—Å–∫—Ä–∏–ø—Ç–æ–≤: `./scripts/backup_db.sh && ./scripts/restore_db.sh backups/latest.db` (dry-run).

## 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–∫–∞—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –≤ cron/CI –Ω–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø (—Å–º. `docs/backup_runbook.md`).
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ª–∏–∑ –≤ `DOROZHNAYA_KARTA.md` (—Ä–∞–∑–¥–µ–ª –∂—É—Ä–Ω–∞–ª).
- [ ] –í —Å–ª—É—á–∞–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ —Å–ª–µ–¥–æ–≤–∞—Ç—å `memory-bank/rollback-protocol.md`.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- Healthcheck –∞–∫—Ç–∏–≤–µ–Ω –≤ Dockerfile –∏ docker-compose (`docker/healthcheck.py`).
- –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (`utils/logger.py` + `docker/logrotate.conf`).
- –ü–µ—Ä–µ–¥ –≤—ã–∫–ª–∞–¥–∫–æ–π –Ω–∞ –ø—Ä–æ–¥ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≥–Ω–∞—Ç—å `make ci-local` –Ω–∞ staging.
